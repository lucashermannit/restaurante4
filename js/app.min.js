!function(o,s,e){console.log("init");
var n={
    init: function(e){
        n.select2(),
        n.carousel(),
        n.stellar(),
        n.dateTimePicker(),
        n.sideNav()}
    ,select2: function(){
        o(e).ready(
            function(){
                o("#selectPerson").select2({
                    placeholder:"Person",
                    allowClear:!0})
            })
    },
    carousel:function(){
        o(".hero-carousel").owlCarousel({
            loop:!0,
            margin:10,
            nav:!0,
            dots:!1,
            responsive:{
                0:{items:1},
                600:{items:1}
            },
            nav:!0,
            navText:['<span class="lnr lnr-chevron-left"></span>',
            '<span class="lnr lnr-chevron-right"></span>']}),
            o(".testi-carousel").owlCarousel({
                loop:!0,
                margin:10,
                autoplay:!0,
                nav:!1,
                dots:!0,
                dotSpeed:1e3,
                autoplay:!0,
                autoplaySpeed:1e3,
                items:1})},
                stellar: function(){
                    var e=o(s).width();
                    767<=e&&(o(".bg-fixed").attr("data-stellar-background-ratio","0.8"),
                    o.stellar({
                        horizontalScrolling:!1,
                        responsive:!0,
                        parallaxBackgrounds:!0,
                        scrollProperty:"scroll"
                    }))
                },
                dateTimePicker: function(){
                    o("#datetimepicker4").datetimepicker({
                        format:"L"}),
                    o("#datetimepicker3").datetimepicker({
                        format:"LT"})
                    },
                    sideNav: function(){
                        o("#side-nav-open").click(function(){
                            o("#side-nav").css("width","300"),
                            setTimeout(function(){
                                o("body").addClass("sidenav-open")},200),
                            setTimeout(function(){
                                o("body").addClass("in")},400)}),
                                o("#side-nav-close, #canvas-overlay").click(function(){
                                    setTimeout(function(){
                                        o("body").removeClass("in")},200),
                                        setTimeout(function(){
                                            o("body").removeClass("sidenav-open"),
                                            o("#side-nav").css("width","0")},400)}),
                                            o("#side-search-open").click(function(){
                                                o("#side-search").css("width","300"),
                                                setTimeout(function(){
                                                    o("body").addClass("sidesearch-open")},200),
                                                    setTimeout(function(){
                                                        o("body").addClass("in")},300)}),
                                                        o("#side-search-close, #canvas-overlay").click(function(){
                                                            setTimeout(function(){
                                                                o("body").removeClass("in")},200),
                                                                setTimeout(function(){
                                                                    o("body").removeClass("sidesearch-open"),
                                                                    o("#side-search").css("width","0")},300)})}};
                                                                    o(e).ready(function(){
                                                                        n.init(o)})}(window.jQuery,window,document);


// FUNCIONES DE MENU AGREGADO - Quizas poner todas las funciones y demas dentro del segundo ".then" no es lo mejor
var entrada = 0
var principal = 1
var postre = 2
var bebida = 3

let slideIndex = 0;
let slideIndex2 = 0;
let slideIndex3 = 0;
let slideIndex4 = 0;
fetch('https://run.mocky.io/v3/2ab15c91-c1ca-4ed9-862b-46988b5cb5e2')
.then( res => res.text() )
.then( datos => {
    menu = JSON.parse(datos)

    categoriasMenu = Object.getOwnPropertyNames(menu) // Array con las categorias del menu: "entrada", "principal", "postre", "bebida"
    
    for(opcion in categoriasMenu) {
        var categoriaPlato = categoriasMenu[opcion]
        var numeroPlato = 1 // Contador para poner "1. nombrePlatoRico"
        var itemCategoria = 'item-' + categoriaPlato
        var menuItem = document.getElementById(itemCategoria)
        for(plato in menu[categoriaPlato]) {
            insertarPlato(menu[categoriaPlato][plato], numeroPlato)
            numeroPlato = numeroPlato + 1
        }
    }

   /*

    }*/
    function insertarPlato(plato, numero) {
        menuItem.insertAdjacentHTML('beforebegin', `
            <div class="menus d-flex align-items-center">
                <div class="menu-img rounded-circle">
                    <img src="img/menu/${categoriaPlato}/${numero}.jpg" alt="Image">
                </div>
                <div class="text-wrap">
                    <div class="row align-items-start">
                        <div class="col-8">
                            <h4><span>${plato.nombre}</span></h4>
                        </div>
                        <div class="col-4">
                            <h4 class="menu-price"><strong>$${plato.precio}</strong></h4>
                        </div>
                    </div>
                    <div class="text-muted">
                        <p>${plato.descripcion}</p>
                    </div>
                </div>
            </div>`)
    }
    
})